{% extends 'base.html' %}
{% block title %}
Add Smart Device
{% endblock title %}
<!DOCTYPE html>


<head>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/css/bootstrap-select.min.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>
{% block body %}
<h3 class="text-center"><span>Add Smart Devices</span> </h3>
  
{% with messages=get_flashed_messages(with_categories=true) %}
{% if messages %}
{% for category, message in messages %}

<div class="alert alert-{{category}} alert-dismissible fade show" role="alert">
  {{message}}


</div>
<br>
{% endfor %}
{% endif %}
{% endwith %}
<body>

  <div class="container">

    <div class="row">
    
    <div class="col-md-4"></div>
    <div class="col-md-4">
    
    <form action="/addagroproduct" method="post">
    <div class="form-group">
    
      <select class="form-control" id="Location_unit_number" name="Location_unit_number"  required>
        <option selected>Location_unit_number</option>
        {% for row in num %}
            <option value="{{row.Unit_Number}}">{{row.Unit_Number}}</option>
        {% endfor %}
      </select>
    </div>
    <br>
    <div class="form-group">                          
      <select class="form-control" id="Type" name="Type" required>
              <option selected>Type</option>
              {% for d in type1 %}
                  <option value="{{d.name}}">{{d.name}}</option>
              {% endfor %}
            </select>
       </div>
      <br>
      <div class="form-group">
        <label>Select Model</label>
        <select name="Product" id="Product" class="form-control" title="Select Product_Models"></select>
      </div>
      
      <br>
    
    <div class="form-group">
    <label for="Color">Color</label>
    <input type="text" class="form-control" name="Color" id="Color" required></textarea>
    </div>
    <br>
    
    <div class="form-group">
    
    <label for="price">Price</label>
    <input type="number" class="form-control" name="price" id="price" required>
    </div>
    <br>
      
    
      
    
      <button type="submit" class="btn btn-success  btn-block">Add Product</button>
    </form>
    <br>
    <br>
    
    </div>
    
    <div class="col-md-4"></div>
    
    </div></div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/js/bootstrap-select.min.js"></script>
  <script>
      $(document).ready(function () {
          $("#Type").selectpicker();
          $("#Product").selectpicker();

          function load_data(type, category_id) {
            $.ajax({
                        url: "/carbrand",
                        method: "POST",
                        data: { type: type, category_id: category_id },
                        dataType: "json",
                        success: function (data) { //alert(category_id)
                            var html = "";
                            for (var count = 0; count < data.length; count++) {
                                html += '<option value="' + data[count].id + '">' + data[count].name + "</option>";
                            }
                            if (type == "hh") {
                                $("#Type").html(html);
                                $("#Type").selectpicker("refresh");
                            } else {
                                $("#Product").html(html);
                                $("#Product").selectpicker("refresh");
                            }
                        },
                    });
          }

          $(document).on("change", "#Type", function () {
              var category_id = $("#Type").val();
              load_data("#Type", category_id);
          });
      });
  </script>
</body>









{% endblock body %}

</html>